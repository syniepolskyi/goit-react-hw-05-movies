"use strict";(self.webpackChunkgoit_react_hw_05_movies_2022=self.webpackChunkgoit_react_hw_05_movies_2022||[]).push([[533],{6889:function(e,t,r){r.d(t,{Z:function(){return s}});var n=r(8794),a=r(184);function s(e){var t=e.message;return(0,a.jsxs)("div",{role:"alert",className:"wrapper",children:[(0,a.jsx)("img",{src:n,width:"400",alt:"no results found"}),(0,a.jsx)("p",{text:t,className:"text",children:t})]})}},8183:function(e,t,r){var n=r(4165),a=r(5861),s=r(4569),i=r.n(s);function c(){return(c=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"trending/movie/day",params:{page:t}},e.next=4,i()(r,t);case 4:return a=e.sent,s=a.data,e.abrupt("return",s);case 9:return e.prev=9,e.t0=e.catch(0),console.log("error",{error:e.t0}),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function o(){return(o=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a,s,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={url:"search/movie",params:{query:t,page:r}},e.next=4,i()(a,t,r);case 4:return s=e.sent,c=s.data,e.abrupt("return",c);case 9:return e.prev=9,e.t0=e.catch(0),console.log("error",{error:e.t0}),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function u(){return(u=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"movie/".concat(t)},e.next=4,i()(r,t);case 4:return a=e.sent,s=a.data,e.abrupt("return",s);case 9:return e.prev=9,e.t0=e.catch(0),console.log("error",{error:e.t0}),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function l(){return(l=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"movie/".concat(t,"/credits")},e.next=4,i()(r,t);case 4:return a=e.sent,s=a.data,e.abrupt("return",s.cast);case 9:return e.prev=9,e.t0=e.catch(0),console.log("error",{error:e.t0}),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function p(){return(p=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"movie/".concat(t,"/reviews")},e.next=4,i()(r,t);case 4:return a=e.sent,s=a.data,e.abrupt("return",s.results);case 9:return e.prev=9,e.t0=e.catch(0),console.log("error",{error:e.t0}),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}i().defaults.baseURL="https://api.themoviedb.org/3/",i().defaults.params={api_key:"92ffb34e08e714eb390805a25b0a06d3",language:"en-US"};var v={getPopularMovies:function(e){return c.apply(this,arguments)},getMoviesByKeyWord:function(e,t){return o.apply(this,arguments)},getMovieById:function(e){return u.apply(this,arguments)},getCastInfo:function(e){return l.apply(this,arguments)},getMovieReview:function(e){return p.apply(this,arguments)}};t.Z=v},2019:function(e,t){t.Z={IDLE:"idle",PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"}},9530:function(e,t,r){r.r(t),r.d(t,{default:function(){return N}});var n=r(1413),a=r(885),s=r(2791),i=r(7689),c=r(1087),o=r(8183),u=r(2019),l=r(5118),p=r(6889),v=r(9670),d="MovieDetailsPage_movies__UmKjr",h="MovieDetailsPage_about__sGZTu",f="MovieDetailsPage_description__5izXs",_="MovieDetailsPage_navigation__obXQG",g="MovieDetailsPage_information__mE2iv",m="MovieDetailsPage_link__GbpAo",x="MovieDetailsPage_activeLink__SFnbD MovieDetailsPage_link__GbpAo",Z="MovieDetailsPage_button__zHx70",b="MovieDetailsPage_mainTitle__ue1Zk",j="MovieDetailsPage_title__beq+9",E="MovieDetailsPage_genre__EE36s",D="MovieDetailsPage_score__jWTyn",w=r(184);function N(){var e=(0,i.s0)(),t=(0,s.useState)(null),r=(0,a.Z)(t,2),N=r[0],y=r[1],k=(0,i.UO)().movieId,P=(0,s.useState)(null),M=(0,a.Z)(P,2),R=M[0],S=M[1],G=(0,s.useState)(u.Z.IDLE),I=(0,a.Z)(G,2),C=I[0],L=I[1],O=(0,s.useState)(null),T=(0,a.Z)(O,2),A=T[0],B=T[1],F=(0,i.TH)();F.state&&F.state.getBack&&!A&&B((0,n.Z)({},F.state.getBack)),(0,s.useEffect)((function(){L(u.Z.PENDING),o.Z.getMovieById(k).then((function(e){if(!e)return S("Not found"),void L(u.Z.REJECTED);y(e),L(u.Z.RESOLVED)})).catch((function(e){console.log(e),S("Something went wrong. Please try again."),L(u.Z.REJECTED)}))}),[k,R]);return(0,w.jsxs)(w.Fragment,{children:[C===u.Z.PENDING&&(0,w.jsx)(l.Z,{}),C!==u.Z.PENDING&&(0,w.jsx)("button",{type:"button",className:Z,onClick:function(){e(A)},children:"\u21d0\u2002 Go back"}),C===u.Z.REJECTED&&(0,w.jsx)(p.Z,{textError:"ERROR"}),C===u.Z.RESOLVED&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:d,children:[(0,w.jsx)("img",{src:N.poster_path?"https://image.tmdb.org/t/p/w500/".concat(N.poster_path):v,alt:N.title,width:"250"}),(0,w.jsxs)("div",{className:h,children:[(0,w.jsxs)("h1",{className:b,children:[N.title," "]}),(0,w.jsxs)("p",{className:D,children:["User Score: ",(10*N.vote_average).toFixed(0),"%"]}),(0,w.jsxs)("h3",{className:j,children:["Overview",(0,w.jsx)("span",{className:f,children:N.overview})]}),(0,w.jsxs)("h3",{className:j,children:["Release Date",(0,w.jsx)("span",{className:f,children:N.release_date})]}),N.genres&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("h3",{className:j,children:"Genres"}),(0,w.jsx)("ul",{className:E,children:N.genres.map((function(e){return(0,w.jsx)("li",{children:e.name},e.id)}))})]})]})]}),(0,w.jsxs)("nav",{className:_,children:[(0,w.jsx)("p",{className:g,children:"Additional information"}),(0,w.jsx)(c.OL,{to:"cast",className:function(e){return e.isActive?x:m},children:"Cast"}),(0,w.jsx)(c.OL,{to:"reviews",className:function(e){return e.isActive?x:m},children:"Reviews"})]}),(0,w.jsx)(s.Suspense,{fallback:(0,w.jsx)(l.Z,{}),children:(0,w.jsx)(i.j3,{})})]})]})}},9670:function(e,t,r){e.exports=r.p+"static/media/no_image.d94858f9ed2950bcb958.jpg"},8794:function(e,t,r){e.exports=r.p+"static/media/no_results_found.98bc826327ced82ba54b.png"}}]);
//# sourceMappingURL=Movie-details-page.1e0991d6.chunk.js.map