"use strict";(self.webpackChunkgoit_react_hw_05_movies_2022=self.webpackChunkgoit_react_hw_05_movies_2022||[]).push([[410],{6889:function(e,t,r){r.d(t,{Z:function(){return u}});var n=r(8794),a=r(184);function u(e){var t=e.message;return(0,a.jsxs)("div",{role:"alert",className:"wrapper",children:[(0,a.jsx)("img",{src:n,width:"400",alt:"no results found"}),(0,a.jsx)("p",{text:t,className:"text",children:t})]})}},8183:function(e,t,r){var n=r(4165),a=r(5861),u=r(4569),s=r.n(u);function o(){return(o=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"trending/movie/day",params:{page:t}},e.next=4,s()(r,t);case 4:return a=e.sent,u=a.data,e.abrupt("return",u);case 9:return e.prev=9,e.t0=e.catch(0),console.log("error",{error:e.t0}),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function i(){return(i=(0,a.Z)((0,n.Z)().mark((function e(t,r){var a,u,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={url:"search/movie",params:{query:t,page:r}},e.next=4,s()(a,t,r);case 4:return u=e.sent,o=u.data,e.abrupt("return",o);case 9:return e.prev=9,e.t0=e.catch(0),console.log("error",{error:e.t0}),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function c(){return(c=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"movie/".concat(t)},e.next=4,s()(r,t);case 4:return a=e.sent,u=a.data,e.abrupt("return",u);case 9:return e.prev=9,e.t0=e.catch(0),console.log("error",{error:e.t0}),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function l(){return(l=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"movie/".concat(t,"/credits")},e.next=4,s()(r,t);case 4:return a=e.sent,u=a.data,e.abrupt("return",u.cast);case 9:return e.prev=9,e.t0=e.catch(0),console.log("error",{error:e.t0}),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function p(){return(p=(0,a.Z)((0,n.Z)().mark((function e(t){var r,a,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"movie/".concat(t,"/reviews")},e.next=4,s()(r,t);case 4:return a=e.sent,u=a.data,e.abrupt("return",u.results);case 9:return e.prev=9,e.t0=e.catch(0),console.log("error",{error:e.t0}),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}s().defaults.baseURL="https://api.themoviedb.org/3/",s().defaults.params={api_key:"92ffb34e08e714eb390805a25b0a06d3",language:"en-US"};var f={getPopularMovies:function(e){return o.apply(this,arguments)},getMoviesByKeyWord:function(e,t){return i.apply(this,arguments)},getMovieById:function(e){return c.apply(this,arguments)},getCastInfo:function(e){return l.apply(this,arguments)},getMovieReview:function(e){return p.apply(this,arguments)}};t.Z=f},2019:function(e,t){t.Z={IDLE:"idle",PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"}},1774:function(e,t,r){var n=(0,r(8596).Z)({root:{display:"flex",justifyContent:"center","& .MuiPaginationItem-page.Mui-selected, & .MuiPaginationItem-page.Mui-selected:hover, & .MuiPaginationItem-page.Mui-selected.Mui-focusVisible,  & .MuiPaginationItem-page:hover, & .MuiPaginationItem-page.Mui-focusVisible":{backgroundColor:"#EC625Fcb"},"& .MuiPaginationItem-root":{color:"#fff"},"& .MuiPaginationItem-page:hover, & .MuiPaginationItem-page.Mui-focusVisible":{opacity:"0.7"},"& .MuiPaginationItem-page.Mui-selected:hover, & .MuiPaginationItem-page.Mui-selected.Mui-focusVisible":{opacity:"1"},"& .MuiPagination-ul":{justifyContent:"center"}}});t.Z=n},7453:function(e,t,r){r.r(t),r.d(t,{default:function(){return j}});var n=r(1413),a=r(885),u=r(2791),s=r(7689),o=r(1087),i=r(8183),c=r(6099),l=r(1774),p=r(2019),f=r(5118),g=r(6889),h=r(9670),m=r(5985),v="SearchBar_form__gW7Gj",d="SearchBar_input__bIy50",Z="SearchBar_button__T7RTc",_=r(184);function b(e){var t=e.onHandleSubmit,r=e.currQuery,n=(0,u.useState)(""),s=(0,a.Z)(n,2),o=s[0],i=s[1],c=(0,u.useState)(!1),l=(0,a.Z)(c,2),p=l[0],f=l[1];return!r||o||p||(i(r),f(!0)),(0,_.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==o.trim()?t(o):m.Am.info("Please enter your query!")},className:v,children:[(0,_.jsx)("input",{type:"text",value:o,autoComplete:"off",autoFocus:!0,placeholder:"Enter movie name...",onChange:function(e){i(e.currentTarget.value.toLowerCase())},className:d}),(0,_.jsx)("button",{type:"submit",className:Z,children:"Search"}),(0,_.jsx)(m.Ix,{})]})}var x="MoviesPage_moviesList__Z-6jD",y="MoviesPage_moviesItem__3W6cK",M="MoviesPage_movieTitle__hHuja",E="MoviesPage_poster__wUT8q",w="MoviesPage_link__GMVyM";function j(){var e,t=(0,l.Z)(),r=(0,s.s0)(),m=(0,s.TH)(),v=m.pathname,d=(0,u.useState)(""),Z=(0,a.Z)(d,2),j=Z[0],P=Z[1],I=(0,u.useState)(0),S=(0,a.Z)(I,2),N=S[0],C=S[1],D=(0,u.useState)(null),k=(0,a.Z)(D,2),L=k[0],R=k[1],T=(0,u.useState)(null),B=(0,a.Z)(T,2),V=B[0],q=B[1],F=(0,u.useState)(p.Z.IDLE),G=(0,a.Z)(F,2),U=G[0],H=G[1],J=null!==(e=new URLSearchParams(m.search).get("page"))&&void 0!==e?e:1;(0,u.useEffect)((function(){if(""!==m.search){var e=new URLSearchParams(m.search).get("query");P(e,J)}}),[m.search,J]),(0,u.useEffect)((function(){j&&(H(p.Z.PENDING),i.Z.getMoviesByKeyWord(j,J).then((function(e){var t=e.results,r=e.total_pages;if(0===t.length)return q('No results to show for "'.concat(j,'!"')),void H(p.Z.REJECTED);R(t),C(r),H(p.Z.RESOLVED)})).catch((function(e){console.log(e),q(e.message),H(p.Z.REJECTED)})))}),[j,J]);return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(b,{onHandleSubmit:function(e){j!==e&&(P(e),R(null),q(null),H(p.Z.IDLE),r((0,n.Z)((0,n.Z)({},m),{},{search:"query=".concat(e,"&page=1")})))},currQuery:j}),U===p.Z.PENDING&&(0,_.jsx)(f.Z,{}),U===p.Z.REJECTED&&(0,_.jsx)(g.Z,{message:V,textError:"Error"}),U===p.Z.RESOLVED&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("ul",{className:x,children:L.map((function(e){return(0,_.jsx)("li",{className:y,children:(0,_.jsxs)(o.OL,{to:"".concat(v,"/").concat(e.id),state:{getBack:(0,n.Z)({},m)},className:w,children:[(0,_.jsx)("img",{src:e.poster_path?"https://image.tmdb.org/t/p/w500/".concat(e.poster_path):h,alt:e.title,width:"320",className:E}),(0,_.jsx)("p",{className:M,children:e.title})]})},e.id)}))}),N>1&&(0,_.jsx)(c.Z,{className:t.root,count:N,onChange:function(e,t){r((0,n.Z)((0,n.Z)({},m),{},{search:"query=".concat(j,"&page=").concat(t)}))},page:Number(J),showFirstButton:!0,showLastButton:!0,size:"large"})]})]})}},9670:function(e,t,r){e.exports=r.p+"static/media/no_image.d94858f9ed2950bcb958.jpg"},8794:function(e,t,r){e.exports=r.p+"static/media/no_results_found.98bc826327ced82ba54b.png"}}]);
//# sourceMappingURL=MoviesPage.787a2a53.chunk.js.map