"use strict";(self.webpackChunkgoit_react_hw_05_movies_2022=self.webpackChunkgoit_react_hw_05_movies_2022||[]).push([[912],{6889:function(e,t,r){r.d(t,{Z:function(){return o}});var n=r(8794),s=r(184);function o(e){var t=e.message;return(0,s.jsxs)("div",{role:"alert",className:"wrapper",children:[(0,s.jsx)("img",{src:n,width:"400",alt:"no results found"}),(0,s.jsx)("p",{text:t,className:"text",children:t})]})}},8183:function(e,t,r){var n=r(4165),s=r(5861),o=r(4569),a=r.n(o);function u(){return(u=(0,s.Z)((0,n.Z)().mark((function e(t){var r,s,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"trending/movie/day",params:{page:t}},e.next=4,a()(r,t);case 4:return s=e.sent,o=s.data,e.abrupt("return",o);case 9:return e.prev=9,e.t0=e.catch(0),console.log("error",{error:e.t0}),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function c(){return(c=(0,s.Z)((0,n.Z)().mark((function e(t,r){var s,o,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={url:"search/movie",params:{query:t,page:r}},e.next=4,a()(s,t,r);case 4:return o=e.sent,u=o.data,e.abrupt("return",u);case 9:return e.prev=9,e.t0=e.catch(0),console.log("error",{error:e.t0}),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function i(){return(i=(0,s.Z)((0,n.Z)().mark((function e(t){var r,s,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"movie/".concat(t)},e.next=4,a()(r,t);case 4:return s=e.sent,o=s.data,e.abrupt("return",o);case 9:return e.prev=9,e.t0=e.catch(0),console.log("error",{error:e.t0}),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function l(){return(l=(0,s.Z)((0,n.Z)().mark((function e(t){var r,s,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"movie/".concat(t,"/credits")},e.next=4,a()(r,t);case 4:return s=e.sent,o=s.data,e.abrupt("return",o.cast);case 9:return e.prev=9,e.t0=e.catch(0),console.log("error",{error:e.t0}),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function p(){return(p=(0,s.Z)((0,n.Z)().mark((function e(t){var r,s,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={url:"movie/".concat(t,"/reviews")},e.next=4,a()(r,t);case 4:return s=e.sent,o=s.data,e.abrupt("return",o.results);case 9:return e.prev=9,e.t0=e.catch(0),console.log("error",{error:e.t0}),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}a().defaults.baseURL="https://api.themoviedb.org/3/",a().defaults.params={api_key:"92ffb34e08e714eb390805a25b0a06d3",language:"en-US"};var h={getPopularMovies:function(e){return u.apply(this,arguments)},getMoviesByKeyWord:function(e,t){return c.apply(this,arguments)},getMovieById:function(e){return i.apply(this,arguments)},getCastInfo:function(e){return l.apply(this,arguments)},getMovieReview:function(e){return p.apply(this,arguments)}};t.Z=h},2019:function(e,t){t.Z={IDLE:"idle",PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"}},1187:function(e,t,r){r.r(t),r.d(t,{default:function(){return m}});var n,s,o=r(885),a=r(2791),u=r(7689),c=r(6889),i=r(8183),l=r(5118),p=r(2019);var h=(s=n=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,e.call(this,r));return n.shouldTruncateString=function(e){return e.length>parseInt(n.props.length)},n.truncatedString=function(e){return e.slice(0,n.props.length).split(" ").slice(0,-1).join(" ")},n.toggleShowMore=function(e){e&&e.preventDefault&&e.preventDefault(),n.setState((function(e){return{showMore:!e.showMore}}))},n.state={showMore:!1},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.state.showMore,t=this.props,r=t.text,n=t.enabled,s=t.className,o=t.style,u=t.ellipsis,c=t.showMoreLabel,i=t.showLessLabel,l=this.props.tag;return n&&this.shouldTruncateString(r)?a.createElement(a.Fragment,null,!e&&""+this.truncatedString(r)+u,e&&r,a.createElement(l,{className:s,onClick:this.toggleShowMore,style:o},e?i:c)):a.createElement(a.Fragment,null,r)},t}(a.Component),n.defaultProps={enabled:!0,length:170,className:"",tag:"span",style:{cursor:"pointer",color:"#007bff"},ellipsis:"...",showMoreLabel:" Show more",showLessLabel:" Show less"},s);h.propTypes={};var f=h,v="Reviews_item__Nzdax",d="Reviews_author__NQfuB",g="Reviews_review__pUZcK",w=r(184);function m(){var e=(0,u.UO)().movieId,t=(0,a.useState)(null),r=(0,o.Z)(t,2),n=r[0],s=r[1],h=(0,a.useState)(p.Z.IDLE),m=(0,o.Z)(h,2),b=m[0],Z=m[1],y=(0,a.useState)(null),x=(0,o.Z)(y,2),E=x[0],_=x[1];return(0,a.useEffect)((function(){i.Z.getMovieReview(e).then((function(e){0!==e.length?(s(e),Z(p.Z.RESOLVED)):Z(p.Z.IDLE)})).catch((function(e){_(e),Z(p.Z.REJECTED)}))}),[e,E]),(0,w.jsxs)(w.Fragment,{children:[b===p.Z.PENDING&&(0,w.jsx)(l.Z,{}),b===p.Z.REJECTED&&(0,w.jsx)(c.Z,{message:E}),b===p.Z.RESOLVED&&(0,w.jsx)("ul",{className:g,children:n.map((function(e){return(0,w.jsxs)("li",{className:v,children:[(0,w.jsx)("h2",{className:d,children:e.author}),(0,w.jsx)("p",{children:(0,w.jsx)(f,{text:e.content,length:700,showMoreLabel:" Show more >>",showLessLabel:" Show less <<",style:{cursor:"pointer",color:"rgba(238, 138, 16, 0.952)",fontWeight:"bold"}})})]},e.id)}))}),b===p.Z.IDLE&&(0,w.jsx)("p",{children:(0,w.jsx)("i",{children:"We don't have any reviews for this movie."})}),b===p.Z.REJECTED&&(0,w.jsx)("p",{children:E.message})]})}},8794:function(e,t,r){e.exports=r.p+"static/media/no_results_found.98bc826327ced82ba54b.png"}}]);
//# sourceMappingURL=reviews.10ed3200.chunk.js.map