{"version":3,"file":"static/js/reviews.10ed3200.chunk.js","mappings":"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","sources":["components/Error/Error.js","services/apiService.js","services/status.js","../node_modules/react-simple-show-more/es/index.js","webpack://goit-react-hw-05-movies-2022/./src/views/Reviews/Reviews.module.css?ff11","views/Reviews/Reviews.js"],"sourcesContent":["import PropTypes from 'prop-types';\nimport errorImage from '../../img/no_results_found.png';\nimport './Error.css';\n\nexport default function ErrorComponent({ message }) {\n  return (\n    <div role=\"alert\" className=\"wrapper\">\n      <img src={errorImage} width=\"400\" alt=\"no results found\" />\n      <p text={message} className=\"text\">\n        {message}\n      </p>\n    </div>\n  );\n}\n\nErrorComponent.propTypes = {\n  textError: PropTypes.string.isRequired,\n};\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = '92ffb34e08e714eb390805a25b0a06d3';\n\naxios.defaults.baseURL = BASE_URL;\naxios.defaults.params = {\n  api_key: API_KEY,\n  language: 'en-US',\n};\n\nasync function getPopularMovies(page) {\n  try {\n    const config = {\n      url: `trending/movie/day`,\n      params: {\n        page,\n      },\n    };\n    const { data } = await axios(config, page);\n    return data;\n  } catch (error) {\n    console.log('error', { error });\n    return null;\n  }\n}\n\nasync function getMoviesByKeyWord(query, page) {\n  try {\n    const config = {\n      url: `search/movie`,\n      params: {\n        query,\n        page,\n      },\n    };\n    const { data } = await axios(config, query, page);\n    return data;\n  } catch (error) {\n    console.log('error', { error });\n    return null;\n  }\n}\n\nasync function getMovieById(id) {\n  try {\n    const config = {\n      url: `movie/${id}`,\n    };\n    const { data } = await axios(config, id);\n    return data;\n  } catch (error) {\n    console.log('error', { error });\n    return null;\n  }\n}\n\nasync function getCastInfo(id) {\n  try {\n    const config = {\n      url: `movie/${id}/credits`,\n    };\n    const { data } = await axios(config, id);\n    return data.cast;\n  } catch (error) {\n    console.log('error', { error });\n    return null;\n  }\n}\n\nasync function getMovieReview(id) {\n  try {\n    const config = {\n      url: `movie/${id}/reviews`,\n    };\n    const { data } = await axios(config, id);\n    return data.results;\n  } catch (error) {\n    console.log('error', { error });\n    return null;\n  }\n}\n\nconst apiService = {\n  getPopularMovies,\n  getMoviesByKeyWord,\n  getMovieById,\n  getCastInfo,\n  getMovieReview,\n};\n\nexport default apiService;\n","const Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nexport default Status;\n","var _class, _temp;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nvar ShowMore = (_temp = _class = function (_Component) {\n  _inherits(ShowMore, _Component);\n\n  function ShowMore(props) {\n    _classCallCheck(this, ShowMore);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n    _this.shouldTruncateString = function (string) {\n      return string.length > parseInt(_this.props.length);\n    };\n\n    _this.truncatedString = function (string) {\n      return string.slice(0, _this.props.length).split(' ').slice(0, -1).join(' ');\n    };\n\n    _this.toggleShowMore = function (event) {\n      if (event && event.preventDefault) event.preventDefault();\n      _this.setState(function (prevState) {\n        return { showMore: !prevState.showMore };\n      });\n    };\n\n    _this.state = {\n      showMore: false\n    };\n    return _this;\n  }\n\n  ShowMore.prototype.render = function render() {\n    var showMore = this.state.showMore;\n    var _props = this.props,\n        text = _props.text,\n        enabled = _props.enabled,\n        className = _props.className,\n        style = _props.style,\n        ellipsis = _props.ellipsis,\n        showMoreLabel = _props.showMoreLabel,\n        showLessLabel = _props.showLessLabel;\n\n    var Tag = this.props.tag;\n    if (enabled && this.shouldTruncateString(text)) {\n      return React.createElement(\n        React.Fragment,\n        null,\n        !showMore && '' + this.truncatedString(text) + ellipsis,\n        showMore && text,\n        React.createElement(\n          Tag,\n          {\n            className: className,\n            onClick: this.toggleShowMore,\n            style: style\n          },\n          showMore ? showLessLabel : showMoreLabel\n        )\n      );\n    }\n    return React.createElement(\n      React.Fragment,\n      null,\n      text\n    );\n  };\n\n  return ShowMore;\n}(Component), _class.defaultProps = {\n  enabled: true,\n  length: 170,\n  className: '',\n  tag: 'span',\n  style: {\n    cursor: 'pointer',\n    color: '#007bff'\n  },\n  ellipsis: '...',\n  showMoreLabel: ' Show more',\n  showLessLabel: ' Show less'\n}, _temp);\nShowMore.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  text: PropTypes.string.isRequired,\n  enabled: PropTypes.any,\n  length: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  className: PropTypes.string,\n  tag: PropTypes.string,\n  style: PropTypes.object,\n  ellipsis: PropTypes.string,\n  showMoreLabel: PropTypes.string,\n  showLessLabel: PropTypes.string\n} : {};\n\n\nexport default ShowMore;","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"Reviews_item__Nzdax\",\"author\":\"Reviews_author__NQfuB\",\"review\":\"Reviews_review__pUZcK\"};","import { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport ErrorComponent from '../../components/Error';\nimport apiService from '../../services/apiService';\nimport LoaderComponent from '../../components/Loader';\nimport Status from '../../services/status';\nimport ShowMore from 'react-simple-show-more';\nimport styles from './Reviews.module.css';\n\nexport default function Reviews() {\n  const { movieId } = useParams();\n  const [reviews, setReviews] = useState(null);\n  const [status, setStatus] = useState(Status.IDLE);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    apiService\n      .getMovieReview(movieId)\n      .then(results => {\n        if (results.length === 0) {\n          setStatus(Status.IDLE);\n          return;\n        }\n        setReviews(results);\n        setStatus(Status.RESOLVED);\n      })\n      .catch(error => {\n        setError(error);\n        setStatus(Status.REJECTED);\n      });\n  }, [movieId, error]);\n\n  return (\n    <>\n      {status === Status.PENDING && <LoaderComponent />}\n\n      {status === Status.REJECTED && <ErrorComponent message={error} />}\n\n      {status === Status.RESOLVED && (\n        <ul className={styles.review}>\n          {reviews.map(review => (\n            <li key={review.id} className={styles.item}>\n              <h2 className={styles.author}>{review.author}</h2>\n              <p>\n                <ShowMore\n                  text={review.content}\n                  length={700}\n                  showMoreLabel=\" Show more >>\"\n                  showLessLabel=\" Show less <<\"\n                  style={{\n                    cursor: 'pointer',\n                    color: 'rgba(238, 138, 16, 0.952)',\n                    fontWeight: 'bold',\n                  }}\n                />\n              </p>\n            </li>\n          ))}\n        </ul>\n      )}\n      {status === Status.IDLE && (\n        <p>\n          <i>We don't have any reviews for this movie.</i>\n        </p>\n      )}\n      {status === Status.REJECTED && <p>{error.message}</p>}\n    </>\n  );\n}\n"],"names":["ErrorComponent","message","role","className","src","errorImage","width","alt","text","page","config","url","params","axios","data","console","log","error","query","id","cast","results","api_key","language","apiService","getPopularMovies","getMoviesByKeyWord","getMovieById","getCastInfo","getMovieReview","IDLE","PENDING","RESOLVED","REJECTED","_class","_temp","ShowMore","_Component","props","instance","Constructor","TypeError","_classCallCheck","this","_this","self","call","ReferenceError","_possibleConstructorReturn","shouldTruncateString","string","length","parseInt","truncatedString","slice","split","join","toggleShowMore","event","preventDefault","setState","prevState","showMore","state","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_inherits","render","_props","enabled","style","ellipsis","showMoreLabel","showLessLabel","Tag","tag","React","onClick","Component","defaultProps","cursor","color","propTypes","Reviews","movieId","useParams","useState","reviews","setReviews","Status","status","setStatus","setError","useEffect","then","catch","Loader","Error","styles","map","review","author","content","fontWeight"],"sourceRoot":""}