{"version":3,"file":"static/js/Movie-details-page.1e0991d6.chunk.js","mappings":"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","sources":["components/Error/Error.js","services/apiService.js","services/status.js","webpack://goit-react-hw-05-movies-2022/./src/views/MovieDetailsPage/MovieDetailsPage.module.css?8c08","views/MovieDetailsPage/MovieDetailsPage.js"],"sourcesContent":["import PropTypes from 'prop-types';\nimport errorImage from '../../img/no_results_found.png';\nimport './Error.css';\n\nexport default function ErrorComponent({ message }) {\n  return (\n    <div role=\"alert\" className=\"wrapper\">\n      <img src={errorImage} width=\"400\" alt=\"no results found\" />\n      <p text={message} className=\"text\">\n        {message}\n      </p>\n    </div>\n  );\n}\n\nErrorComponent.propTypes = {\n  textError: PropTypes.string.isRequired,\n};\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = '92ffb34e08e714eb390805a25b0a06d3';\n\naxios.defaults.baseURL = BASE_URL;\naxios.defaults.params = {\n  api_key: API_KEY,\n  language: 'en-US',\n};\n\nasync function getPopularMovies(page) {\n  try {\n    const config = {\n      url: `trending/movie/day`,\n      params: {\n        page,\n      },\n    };\n    const { data } = await axios(config, page);\n    return data;\n  } catch (error) {\n    console.log('error', { error });\n    return null;\n  }\n}\n\nasync function getMoviesByKeyWord(query, page) {\n  try {\n    const config = {\n      url: `search/movie`,\n      params: {\n        query,\n        page,\n      },\n    };\n    const { data } = await axios(config, query, page);\n    return data;\n  } catch (error) {\n    console.log('error', { error });\n    return null;\n  }\n}\n\nasync function getMovieById(id) {\n  try {\n    const config = {\n      url: `movie/${id}`,\n    };\n    const { data } = await axios(config, id);\n    return data;\n  } catch (error) {\n    console.log('error', { error });\n    return null;\n  }\n}\n\nasync function getCastInfo(id) {\n  try {\n    const config = {\n      url: `movie/${id}/credits`,\n    };\n    const { data } = await axios(config, id);\n    return data.cast;\n  } catch (error) {\n    console.log('error', { error });\n    return null;\n  }\n}\n\nasync function getMovieReview(id) {\n  try {\n    const config = {\n      url: `movie/${id}/reviews`,\n    };\n    const { data } = await axios(config, id);\n    return data.results;\n  } catch (error) {\n    console.log('error', { error });\n    return null;\n  }\n}\n\nconst apiService = {\n  getPopularMovies,\n  getMoviesByKeyWord,\n  getMovieById,\n  getCastInfo,\n  getMovieReview,\n};\n\nexport default apiService;\n","const Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nexport default Status;\n","// extracted by mini-css-extract-plugin\nexport default {\"movies\":\"MovieDetailsPage_movies__UmKjr\",\"about\":\"MovieDetailsPage_about__sGZTu\",\"overview\":\"MovieDetailsPage_overview__nnQR5\",\"description\":\"MovieDetailsPage_description__5izXs\",\"navigation\":\"MovieDetailsPage_navigation__obXQG\",\"information\":\"MovieDetailsPage_information__mE2iv\",\"link\":\"MovieDetailsPage_link__GbpAo\",\"activeLink\":\"MovieDetailsPage_activeLink__SFnbD MovieDetailsPage_link__GbpAo\",\"button\":\"MovieDetailsPage_button__zHx70\",\"mainTitle\":\"MovieDetailsPage_mainTitle__ue1Zk\",\"title\":\"MovieDetailsPage_title__beq+9\",\"genre\":\"MovieDetailsPage_genre__EE36s\",\"score\":\"MovieDetailsPage_score__jWTyn\"};","import { useState, useEffect, Suspense } from 'react';\nimport {\n  NavLink,\n  useParams,\n  useNavigate,\n  Outlet,\n  useLocation,\n} from 'react-router-dom';\n\nimport apiService from '../../services/apiService';\nimport Status from '../../services/status';\nimport LoaderComponent from '../../components/Loader';\nimport ErrorComponent from '../../components/Error';\nimport noPhoto from '../../img/no_image.jpg';\nimport styles from './MovieDetailsPage.module.css';\n\nexport default function MovieDetailsPage() {\n  const navigate = useNavigate();\n  const [movie, setMovie] = useState(null);\n  const { movieId } = useParams();\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState(Status.IDLE);\n  const [backLocation, setBackLocation] = useState(null);\n\n  const location = useLocation();\n  if (location.state && location.state.getBack && !backLocation) {\n    setBackLocation({ ...location.state.getBack });\n  }\n\n  useEffect(() => {\n    setStatus(Status.PENDING);\n    apiService\n      .getMovieById(movieId)\n      .then(data => {\n        if (!data) {\n          setError('Not found');\n          setStatus(Status.REJECTED);\n          return;\n        }\n        setMovie(data);\n        setStatus(Status.RESOLVED);\n      })\n      .catch(error => {\n        console.log(error);\n        setError('Something went wrong. Please try again.');\n        setStatus(Status.REJECTED);\n      });\n  }, [movieId, error]);\n\n  const onGoBack = () => {\n    navigate(backLocation);\n  };\n\n  return (\n    <>\n      {status === Status.PENDING && <LoaderComponent />}\n      {status !== Status.PENDING && (\n        <button type=\"button\" className={styles.button} onClick={onGoBack}>\n          &#8656;&ensp; Go back\n        </button>\n      )}\n\n      {status === Status.REJECTED && <ErrorComponent textError=\"ERROR\" />}\n\n      {status === Status.RESOLVED && (\n        <>\n          <div className={styles.movies}>\n            <img\n              src={\n                movie.poster_path\n                  ? `https://image.tmdb.org/t/p/w500/${movie.poster_path}`\n                  : noPhoto\n              }\n              alt={movie.title}\n              width=\"250\"\n            />\n            <div className={styles.about}>\n              <h1 className={styles.mainTitle}>{movie.title} </h1>\n              <p className={styles.score}>\n                User Score: {(movie.vote_average * 10).toFixed(0)}%\n              </p>\n              <h3 className={styles.title}>\n                Overview\n                <span className={styles.description}>{movie.overview}</span>\n              </h3>\n              <h3 className={styles.title}>\n                Release Date\n                <span className={styles.description}>{movie.release_date}</span>\n              </h3>\n              {movie.genres && (\n                <>\n                  <h3 className={styles.title}>Genres</h3>\n                  <ul className={styles.genre}>\n                    {movie.genres.map(genre => (\n                      <li key={genre.id}>{genre.name}</li>\n                    ))}\n                  </ul>\n                </>\n              )}\n            </div>\n          </div>\n\n          <nav className={styles.navigation}>\n            <p className={styles.information}>Additional information</p>\n\n            <NavLink\n              to=\"cast\"\n              className={({ isActive }) =>\n                isActive ? styles.activeLink : styles.link\n              }\n            >\n              Cast\n            </NavLink>\n\n            <NavLink\n              to=\"reviews\"\n              className={({ isActive }) =>\n                isActive ? styles.activeLink : styles.link\n              }\n            >\n              Reviews\n            </NavLink>\n          </nav>\n\n          <Suspense fallback={<LoaderComponent />}>\n            <Outlet />\n          </Suspense>\n        </>\n      )}\n    </>\n  );\n}\n"],"names":["ErrorComponent","message","role","className","src","errorImage","width","alt","text","page","config","url","params","axios","data","console","log","error","query","id","cast","results","api_key","language","apiService","getPopularMovies","getMoviesByKeyWord","getMovieById","getCastInfo","getMovieReview","IDLE","PENDING","RESOLVED","REJECTED","MovieDetailsPage","navigate","useNavigate","useState","movie","setMovie","movieId","useParams","setError","Status","status","setStatus","backLocation","setBackLocation","location","useLocation","state","getBack","useEffect","then","catch","Loader","type","styles","onClick","Error","textError","poster_path","noPhoto","title","vote_average","toFixed","overview","release_date","genres","map","genre","name","to","isActive","Suspense","fallback"],"sourceRoot":""}