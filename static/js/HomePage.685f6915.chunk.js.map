{"version":3,"file":"static/js/HomePage.685f6915.chunk.js","mappings":"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","sources":["components/Error/Error.js","services/apiService.js","services/status.js","services/stylesPagination.js","webpack://goit-react-hw-05-movies-2022/./src/views/HomePage/HomePage.module.css?a66d","views/HomePage/HomePage.js"],"sourcesContent":["import PropTypes from 'prop-types';\nimport errorImage from '../../img/no_results_found.png';\nimport './Error.css';\n\nexport default function ErrorComponent({ message }) {\n  return (\n    <div role=\"alert\" className=\"wrapper\">\n      <img src={errorImage} width=\"400\" alt=\"no results found\" />\n      <p text={message} className=\"text\">\n        {message}\n      </p>\n    </div>\n  );\n}\n\nErrorComponent.propTypes = {\n  textError: PropTypes.string.isRequired,\n};\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = '92ffb34e08e714eb390805a25b0a06d3';\n\naxios.defaults.baseURL = BASE_URL;\naxios.defaults.params = {\n  api_key: API_KEY,\n  language: 'en-US',\n};\n\nasync function getPopularMovies(page) {\n  try {\n    const config = {\n      url: `trending/movie/day`,\n      params: {\n        page,\n      },\n    };\n    const { data } = await axios(config, page);\n    return data;\n  } catch (error) {\n    console.log('error', { error });\n    return null;\n  }\n}\n\nasync function getMoviesByKeyWord(query, page) {\n  try {\n    const config = {\n      url: `search/movie`,\n      params: {\n        query,\n        page,\n      },\n    };\n    const { data } = await axios(config, query, page);\n    return data;\n  } catch (error) {\n    console.log('error', { error });\n    return null;\n  }\n}\n\nasync function getMovieById(id) {\n  try {\n    const config = {\n      url: `movie/${id}`,\n    };\n    const { data } = await axios(config, id);\n    return data;\n  } catch (error) {\n    console.log('error', { error });\n    return null;\n  }\n}\n\nasync function getCastInfo(id) {\n  try {\n    const config = {\n      url: `movie/${id}/credits`,\n    };\n    const { data } = await axios(config, id);\n    return data.cast;\n  } catch (error) {\n    console.log('error', { error });\n    return null;\n  }\n}\n\nasync function getMovieReview(id) {\n  try {\n    const config = {\n      url: `movie/${id}/reviews`,\n    };\n    const { data } = await axios(config, id);\n    return data.results;\n  } catch (error) {\n    console.log('error', { error });\n    return null;\n  }\n}\n\nconst apiService = {\n  getPopularMovies,\n  getMoviesByKeyWord,\n  getMovieById,\n  getCastInfo,\n  getMovieReview,\n};\n\nexport default apiService;\n","const Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nexport default Status;\n","import { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles({\n  root: {\n    display: 'flex',\n    justifyContent: 'center',\n    '& .MuiPaginationItem-page.Mui-selected, & .MuiPaginationItem-page.Mui-selected:hover, & .MuiPaginationItem-page.Mui-selected.Mui-focusVisible,  & .MuiPaginationItem-page:hover, & .MuiPaginationItem-page.Mui-focusVisible':\n      {\n        backgroundColor: '#EC625Fcb',\n      },\n    '& .MuiPaginationItem-root': {\n      color: '#fff',\n    },\n    '& .MuiPaginationItem-page:hover, & .MuiPaginationItem-page.Mui-focusVisible':\n      {\n        opacity: '0.7',\n      },\n    '& .MuiPaginationItem-page.Mui-selected:hover, & .MuiPaginationItem-page.Mui-selected.Mui-focusVisible':\n      {\n        opacity: '1',\n      },\n    '& .MuiPagination-ul': {\n      justifyContent: 'center',\n    },\n  },\n});\n\nexport default useStyles;\n","// extracted by mini-css-extract-plugin\nexport default {\"main\":\"HomePage_main__vd+D2\",\"title\":\"HomePage_title__rAQS9\",\"moviesList\":\"HomePage_moviesList__6ERtm\",\"moviesItem\":\"HomePage_moviesItem__AxeSC\",\"poster\":\"HomePage_poster__5r53E\",\"movieTitle\":\"HomePage_movieTitle__gpH+A\",\"link\":\"HomePage_link__CYdf4\"};","import { useState, useEffect } from 'react';\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\nimport apiService from '../../services/apiService';\nimport { Pagination } from '@material-ui/lab';\nimport useStyles from '../../services/stylesPagination';\nimport Status from '../../services/status';\nimport LoaderComponent from '../../components/Loader';\nimport ErrorComponent from '../../components/Error';\nimport noPhoto from '../../img/no_image.jpg';\nimport styles from './HomePage.module.css';\n\nexport default function HomePage() {\n  const classes = useStyles();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [movies, setMovies] = useState(null);\n  const [totalPage, setTotalPage] = useState(0);\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState(Status.IDLE);\n\n  const page = new URLSearchParams(location.search).get('page') ?? 1;\n\n  useEffect(() => {\n    setStatus(Status.PENDING);\n    apiService\n      .getPopularMovies(page)\n      .then(({ results, total_pages }) => {\n        setMovies(results);\n        setTotalPage(total_pages);\n        setStatus(Status.RESOLVED);\n      })\n      .catch(error => {\n        console.log(error);\n        setError('Something went wrong. Please try again.');\n        setStatus(Status.REJECTED);\n      });\n  }, [page]);\n\n  const onHandlePage = (event, page) => {\n    navigate({ ...location, search: `page=${page}` });\n  };\n\n  return (\n    <main className={styles.main}>\n      <h1 className={styles.title}>Trending today</h1>\n\n      {status === Status.PENDING && <LoaderComponent />}\n\n      {status === Status.REJECTED && <ErrorComponent message={error.message} textError=\"Error\" />}\n\n      {status === Status.RESOLVED && (\n        <>\n          <ul className={styles.moviesList}>\n            {movies.map(movie => (\n              <li key={movie.id} className={styles.moviesItem}>\n                <Link\n                  to={`/goit-react-hw-05-movies/movies/${movie.id}`}\n                  className={styles.link}\n                  state={{ getBack: {...location} }}\n                >\n                  <img\n                    src={\n                      movie.poster_path\n                        ? `https://image.tmdb.org/t/p/w500/${movie.poster_path}`\n                        : noPhoto\n                    }\n                    alt={movie.title}\n                    className={styles.poster}\n                  />\n                  <span className={styles.movieTitle}>{movie.title}</span>\n                </Link>\n                \n              </li>\n            ))}\n          </ul>\n          {totalPage > 1 && (\n            <Pagination\n              className={classes.root}\n              count={totalPage}\n              onChange={onHandlePage}\n              page={Number(page)}\n              showFirstButton\n              showLastButton\n              size=\"large\"\n            />\n          )}\n        </>\n      )}\n    </main>\n  );\n}\n"],"names":["ErrorComponent","message","role","className","src","errorImage","width","alt","text","page","config","url","params","axios","data","console","log","error","query","id","cast","results","api_key","language","apiService","getPopularMovies","getMoviesByKeyWord","getMovieById","getCastInfo","getMovieReview","IDLE","PENDING","RESOLVED","REJECTED","useStyles","makeStyles","root","display","justifyContent","backgroundColor","color","opacity","HomePage","classes","navigate","useNavigate","location","useLocation","useState","movies","setMovies","totalPage","setTotalPage","setError","Status","status","setStatus","URLSearchParams","search","get","useEffect","then","total_pages","catch","styles","Loader","Error","textError","map","movie","to","state","getBack","poster_path","noPhoto","title","Pagination","count","onChange","event","Number","showFirstButton","showLastButton","size"],"sourceRoot":""}